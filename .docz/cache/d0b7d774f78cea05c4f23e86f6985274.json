{"remainingRequest":"D:\\Workspace\\packages\\NWB\\rk-docs\\node_modules\\thread-loader\\dist\\cjs.js??ref--5-1!D:\\Workspace\\packages\\NWB\\rk-docs\\node_modules\\docz-core\\node_modules\\babel-loader\\lib\\index.js??ref--5-2!D:\\Workspace\\packages\\NWB\\rk-docs\\node_modules\\source-map-loader\\index.js!D:\\Workspace\\packages\\NWB\\rk-docs\\src\\components\\EditableTableDemo.js","dependencies":[{"path":"D:\\Workspace\\packages\\NWB\\rk-docs\\src\\components\\EditableTableDemo.js","mtime":1554137727139},{"path":"D:\\Workspace\\packages\\NWB\\rk-docs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1559722252217},{"path":"D:\\Workspace\\packages\\NWB\\rk-docs\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1553187048705},{"path":"D:\\Workspace\\packages\\NWB\\rk-docs\\node_modules\\docz-core\\node_modules\\babel-loader\\lib\\index.js","mtime":1559727676884},{"path":"D:\\Workspace\\packages\\NWB\\rk-docs\\node_modules\\source-map-loader\\index.js","mtime":1553186062458}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIkQ6XFxXb3Jrc3BhY2VcXHBhY2thZ2VzXFxOV0JcXHJrLWRvY3NcXG5vZGVfbW9kdWxlc1xcYmFiZWwtcHJlc2V0LXJlYWN0LWFwcFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheSI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6XFxXb3Jrc3BhY2VcXHBhY2thZ2VzXFxOV0JcXHJrLWRvY3NcXG5vZGVfbW9kdWxlc1xcYmFiZWwtcHJlc2V0LXJlYWN0LWFwcFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkIjsKdmFyIF9qc3hGaWxlTmFtZSA9ICJEOlxcV29ya3NwYWNlXFxwYWNrYWdlc1xcTldCXFxyay1kb2NzXFxzcmNcXGNvbXBvbmVudHNcXEVkaXRhYmxlVGFibGVEZW1vLmpzIjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIGVudGVyTW9kdWxlID0gKHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbCA6IHJlcXVpcmUoJ3JlYWN0LWhvdC1sb2FkZXInKSkuZW50ZXJNb2R1bGU7CiAgZW50ZXJNb2R1bGUgJiYgZW50ZXJNb2R1bGUobW9kdWxlKTsKfSkoKTsKCnZhciBfX3NpZ25hdHVyZV9fID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsWyJkZWZhdWx0Il0uc2lnbmF0dXJlIDogZnVuY3Rpb24gKGEpIHsKICByZXR1cm4gYTsKfTsKCmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlUmVkdWNlciB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IEVkaXRhYmxlVGFibGUgZnJvbSAncmstYWRtaW4tdWkvbGliL2VkaXRhYmxlLXRhYmxlJzsKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnYW50ZCc7Cgp2YXIgZGVtb1JlZHVjZXIgPSBmdW5jdGlvbiBkZW1vUmVkdWNlcihzdGF0ZSwgYWN0aW9uKSB7CiAgc3dpdGNoIChhY3Rpb24udHlwZSkgewogICAgY2FzZSAnbmV3JzoKICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLCB7CiAgICAgICAgcGF5bG9hZDogc3RhdGUucGF5bG9hZC5jb25jYXQoYWN0aW9uLnBheWxvYWQpCiAgICAgIH0pOwoKICAgIGNhc2UgJ3VwZGF0ZSc6CiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZSwgewogICAgICAgIHBheWxvYWQ6IHN0YXRlLnBheWxvYWQuZmlsdGVyKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGFjdGlvbi5wYXlsb2FkLmlkKSB7CiAgICAgICAgICAgIHN0YXRlLnBheWxvYWRbaW5kZXhdLm5hbWUgPSBhY3Rpb24ucGF5bG9hZC5uYW1lOwogICAgICAgICAgICBzdGF0ZS5wYXlsb2FkW2luZGV4XS5xdHkgPSBhY3Rpb24ucGF5bG9hZC5xdHk7CiAgICAgICAgICAgIHN0YXRlLnBheWxvYWRbaW5kZXhdLnByaWNlID0gYWN0aW9uLnBheWxvYWQucHJpY2U7CiAgICAgICAgICAgIHN0YXRlLnBheWxvYWRbaW5kZXhdLnVvbSA9IGFjdGlvbi5wYXlsb2FkLnVvbTsKICAgICAgICAgICAgc3RhdGUucGF5bG9hZFtpbmRleF0uYW1vdW50ID0gYWN0aW9uLnBheWxvYWQucXR5ICogYWN0aW9uLnBheWxvYWQucHJpY2U7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHN0YXRlLnBheWxvYWQ7CiAgICAgICAgfSkKICAgICAgfSk7CgogICAgY2FzZSAnZGVsZXRlJzoKICAgICAgdmFyIHBheWxvYWQgPSBPYmplY3QuYXNzaWduKFtdLCBzdGF0ZS5wYXlsb2FkKTsKICAgICAgdmFyIGluZGV4VG9SZW1vdmUgPSBwYXlsb2FkLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmlkID09PSBhY3Rpb24ucGF5bG9hZC5pZDsKICAgICAgfSk7CiAgICAgIGlmIChpbmRleFRvUmVtb3ZlID4gLTEpIHBheWxvYWQuc3BsaWNlKGluZGV4VG9SZW1vdmUsIDEpOwogICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgc3RhdGUsIHsKICAgICAgICBwYXlsb2FkOiBwYXlsb2FkCiAgICAgIH0pOwoKICAgIGRlZmF1bHQ6CiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZSk7CiAgfQp9OwoKdmFyIEVkaXRhYmxlVGFibGVEZW1vID0gZnVuY3Rpb24gRWRpdGFibGVUYWJsZURlbW8ocHJvcHMpIHsKICB2YXIgaW5pdGlhbFN0YXRlID0gewogICAgcGF5bG9hZDogW3sKICAgICAgaWQ6IDEwLAogICAgICBuYW1lOiAnTWFjIEJvb2sgUHJvLCAyMDE5JywKICAgICAgcXR5OiAxLAogICAgICB1b206ICdDQU4nLAogICAgICBwcmljZTogMjUwMC4wLAogICAgICBhbW91bnQ6IDI1MDAuMAogICAgfSwgewogICAgICBpZDogMjAsCiAgICAgIG5hbWU6ICdEZWxsIFNQUyAyMDE4JywKICAgICAgcXR5OiAxLAogICAgICB1b206ICdVTklUJywKICAgICAgcHJpY2U6IDE4MDAuMCwKICAgICAgYW1vdW50OiAxODAwLjAKICAgIH1dCiAgfTsKCiAgdmFyIF91c2VSZWR1Y2VyID0gdXNlUmVkdWNlcihkZW1vUmVkdWNlciwgaW5pdGlhbFN0YXRlKSwKICAgICAgX3VzZVJlZHVjZXIyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVJlZHVjZXIsIDIpLAogICAgICBzdGF0ZSA9IF91c2VSZWR1Y2VyMlswXSwKICAgICAgZGlzcGF0Y2ggPSBfdXNlUmVkdWNlcjJbMV07CgogIHZhciBjb21tYW5kID0gZnVuY3Rpb24gY29tbWFuZChyZWNvcmQsIGluZGV4LCBuYW1lKSB7CiAgICBkaXNwYXRjaCh7CiAgICAgIHR5cGU6ICdkZWxldGUnLAogICAgICBwYXlsb2FkOiByZWNvcmQKICAgIH0pOwogIH07CgogIHZhciBjaGFuZ2VkID0gZnVuY3Rpb24gY2hhbmdlZChmb3JtLCBuYW1lLCBrZXkpIHsKICAgIGZvcm0udmFsaWRhdGVGaWVsZHMoZnVuY3Rpb24gKGVycm9yLCB2YWx1ZSkgewogICAgICBpZiAoZXJyb3IpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhbHVlLmlkID0ga2V5OwogICAgICBkaXNwYXRjaCh7CiAgICAgICAgdHlwZTogJ3VwZGF0ZScsCiAgICAgICAgcGF5bG9hZDogdmFsdWUKICAgICAgfSk7CiAgICAgIGZvcm0uc2V0RmllbGRzVmFsdWUoewogICAgICAgIGFtb3VudDogdmFsdWUucXR5ICogdmFsdWUucHJpY2UKICAgICAgfSk7CiAgICB9KTsKICB9OwoKICB2YXIgbmV3Um93ID0gZnVuY3Rpb24gbmV3Um93KCkgewogICAgZGlzcGF0Y2goewogICAgICB0eXBlOiAnbmV3JywKICAgICAgcGF5bG9hZDogewogICAgICAgIGlkOiBEYXRlLm5vdygpLAogICAgICAgIG5hbWU6ICcnLAogICAgICAgIHF0eTogMSwKICAgICAgICB1b206ICcnLAogICAgICAgIHByaWNlOiAwLjAsCiAgICAgICAgYW1vdW50OiAwLjAKICAgICAgfQogICAgfSk7CiAgfTsKCiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKFt7CiAgICBsYWJlbDogJ05hbWUnLAogICAgc2hvd19sYWJlbDogZmFsc2UsCiAgICBuYW1lOiAnbmFtZScsCiAgICB0eXBlOiAnaW5wdXQnLAogICAgcmVxdWlyZWQ6IHRydWUsCiAgICBlcnJfbWVzc2FnZTogJycsCiAgICB3aWR0aDogJzIwJScKICB9LCB7CiAgICBsYWJlbDogJ1FUWScsCiAgICBzaG93X2xhYmVsOiBmYWxzZSwKICAgIG5hbWU6ICdxdHknLAogICAgdHlwZTogJ251bWJlcicsCiAgICByZXF1aXJlZDogdHJ1ZSwKICAgIGVycl9tZXNzYWdlOiAnUGxlYXNlIGlucHV0IFFUWScsCiAgICB3aWR0aDogJzIwJScKICB9LCB7CiAgICBsYWJlbDogJ1VPTScsCiAgICBzaG93X2xhYmVsOiBmYWxzZSwKICAgIG5hbWU6ICd1b20nLAogICAgdHlwZTogJ3NlbGVjdCcsCiAgICBkYXRhOiBbewogICAgICBpZDogJ0NBTicsCiAgICAgIG5hbWU6ICdDQU4nCiAgICB9LCB7CiAgICAgIGlkOiAnVU5JVCcsCiAgICAgIG5hbWU6ICdVTklUJwogICAgfV0sCiAgICBkaXNwbGF5X3ZhbHVlOiAnaWQnLAogICAgZGlzcGxheV9uYW1lOiAnbmFtZScsCiAgICByZXF1aXJlZDogdHJ1ZSwKICAgIGVycl9tZXNzYWdlOiAnUGxlYXNlIHNlbGVjdCBVT00nLAogICAgd2lkdGg6ICcyMCUnLAogICAgc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxMDAlJwogICAgfSwKICAgIC8vIG1vZGU6ICd0YWdzJywKICAgIHNob3dTZWFyY2g6IHRydWUKICB9LCB7CiAgICBsYWJlbDogJ1ByaWNlJywKICAgIHNob3dfbGFiZWw6IGZhbHNlLAogICAgbmFtZTogJ3ByaWNlJywKICAgIHR5cGU6ICdudW1iZXInLAogICAgZGF0YTogbnVsbCwKICAgIGRpc3BsYXlfdmFsdWU6IG51bGwsCiAgICBkaXNwbGF5X25hbWU6IG51bGwsCiAgICByZXF1aXJlZDogdHJ1ZSwKICAgIGVycl9tZXNzYWdlOiAnUGxlYXNlIGlucHV0IG5hbWUnLAogICAgd2lkdGg6ICcyMCUnCiAgfSwgewogICAgbGFiZWw6ICdBbW91bnQnLAogICAgc2hvd19sYWJlbDogZmFsc2UsCiAgICBuYW1lOiAnYW1vdW50JywKICAgIHR5cGU6ICdudW1iZXInLAogICAgZGF0YTogbnVsbCwKICAgIGRpc3BsYXlfdmFsdWU6IG51bGwsCiAgICBkaXNwbGF5X25hbWU6IG51bGwsCiAgICByZXF1aXJlZDogdHJ1ZSwKICAgIGVycl9tZXNzYWdlOiAnUGxlYXNlIGlucHV0IGFtb3VudCcsCiAgICByZWFkT25seTogdHJ1ZSwKICAgIHdpZHRoOiAnMjAlJwogIH0sIHsKICAgIHRpdGxlOiBudWxsLAogICAgaXNfYWN0aW9uOiB0cnVlLAogICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIodGV4dCwgcmVjb3JkLCBpbmRleCkgewogICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHsKICAgICAgICB0eXBlOiAiZGFuZ2VyIiwKICAgICAgICBzaGFwZTogImNpcmNsZSIsCiAgICAgICAgc2l6ZTogInNtYWxsIiwKICAgICAgICBvbkNsaWNrOiBjb21tYW5kLmJpbmQobnVsbCwgcmVjb3JkLCBpbmRleCwgJ25hbWUnKSwKICAgICAgICBpY29uOiAiY2xvc2UiLAogICAgICAgIF9fc291cmNlOiB7CiAgICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICAgICAgbGluZU51bWJlcjogMTUxCiAgICAgICAgfSwKICAgICAgICBfX3NlbGY6IHRoaXMKICAgICAgfSk7CiAgICB9CiAgfV0pLAogICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAxKSwKICAgICAgY29sdW1ucyA9IF91c2VTdGF0ZTJbMF07CgogIHZhciBfdXNlU3RhdGUzID0gdXNlU3RhdGUoZmFsc2UpLAogICAgICBfdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMywgMiksCiAgICAgIGVkaXRhYmxlID0gX3VzZVN0YXRlNFswXSwKICAgICAgc2V0RWRpdGFibGUgPSBfdXNlU3RhdGU0WzFdOwoKICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTYzCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHsKICAgIG9uQ2xpY2s6IG5ld1JvdywKICAgIHR5cGU6ICJwcmltYXJ5IiwKICAgIHN0eWxlOiB7CiAgICAgIG1hcmdpbkJvdHRvbTogMTYsCiAgICAgIG1hcmdpblJpZ2h0OiAxNgogICAgfSwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDE2NAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJOZXcgUm93IiksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7CiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICByZXR1cm4gc2V0RWRpdGFibGUoIWVkaXRhYmxlKTsKICAgIH0sCiAgICB0eXBlOiAicHJpbWFyeSIsCiAgICBzdHlsZTogewogICAgICBtYXJnaW5Cb3R0b206IDE2CiAgICB9LAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTY3CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIWVkaXRhYmxlID8gJ0VkaXRhYmxlJyA6ICdVbi1FZGl0YWJsZScpLCBSZWFjdC5jcmVhdGVFbGVtZW50KEVkaXRhYmxlVGFibGUsIHsKICAgIGVkaXRhYmxlOiBlZGl0YWJsZSwKICAgIGNvbHVtbnM6IGNvbHVtbnMsCiAgICBvbkJsdXI6IGNoYW5nZWQsCiAgICBzaXplOiAic21hbGwiLAogICAgZGF0YVNvdXJjZTogc3RhdGUucGF5bG9hZCwKICAgIHBhZ2luYXRpb246IGZhbHNlLAogICAgYm9yZGVyZWQ6IHRydWUsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxNzAKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSk7Cn07CgpfX3NpZ25hdHVyZV9fKEVkaXRhYmxlVGFibGVEZW1vLCAidXNlUmVkdWNlcnt9XG51c2VTdGF0ZXt9XG51c2VTdGF0ZXt9Iik7Cgp2YXIgX2RlZmF1bHQgPSBSZWFjdC5tZW1vKEVkaXRhYmxlVGFibGVEZW1vKTsKCmV4cG9ydCBkZWZhdWx0IF9kZWZhdWx0Owo7CgooZnVuY3Rpb24gKCkgewogIHZhciByZWFjdEhvdExvYWRlciA9ICh0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwgOiByZXF1aXJlKCdyZWFjdC1ob3QtbG9hZGVyJykpLmRlZmF1bHQ7CgogIGlmICghcmVhY3RIb3RMb2FkZXIpIHsKICAgIHJldHVybjsKICB9CgogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKGRlbW9SZWR1Y2VyLCAiZGVtb1JlZHVjZXIiLCAiRDpcXFdvcmtzcGFjZVxccGFja2FnZXNcXE5XQlxccmstZG9jc1xcc3JjXFxjb21wb25lbnRzXFxFZGl0YWJsZVRhYmxlRGVtby5qcyIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKEVkaXRhYmxlVGFibGVEZW1vLCAiRWRpdGFibGVUYWJsZURlbW8iLCAiRDpcXFdvcmtzcGFjZVxccGFja2FnZXNcXE5XQlxccmstZG9jc1xcc3JjXFxjb21wb25lbnRzXFxFZGl0YWJsZVRhYmxlRGVtby5qcyIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKF9kZWZhdWx0LCAiZGVmYXVsdCIsICJEOlxcV29ya3NwYWNlXFxwYWNrYWdlc1xcTldCXFxyay1kb2NzXFxzcmNcXGNvbXBvbmVudHNcXEVkaXRhYmxlVGFibGVEZW1vLmpzIik7Cn0pKCk7Cgo7CgooZnVuY3Rpb24gKCkgewogIHZhciBsZWF2ZU1vZHVsZSA9ICh0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwgOiByZXF1aXJlKCdyZWFjdC1ob3QtbG9hZGVyJykpLmxlYXZlTW9kdWxlOwogIGxlYXZlTW9kdWxlICYmIGxlYXZlTW9kdWxlKG1vZHVsZSk7Cn0pKCk7"},{"version":3,"sources":["D:\\Workspace\\packages\\NWB\\rk-docs\\src\\components\\EditableTableDemo.js"],"names":["React","useState","useReducer","EditableTable","Button","demoReducer","state","action","type","payload","concat","filter","item","index","id","name","qty","price","uom","amount","Object","assign","indexToRemove","findIndex","splice","EditableTableDemo","props","initialState","dispatch","command","record","changed","form","key","validateFields","error","value","setFieldsValue","newRow","Date","now","label","show_label","required","err_message","width","data","display_value","display_name","style","showSearch","readOnly","title","is_action","render","text","bind","columns","editable","setEditable","marginBottom","marginRight","memo"],"mappings":"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","sourcesContent":["import React, { useState, useReducer } from 'react';\r\nimport EditableTable from 'rk-admin-ui/lib/editable-table';\r\nimport { Button } from 'antd';\r\n\r\nconst demoReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'new':\r\n            return {\r\n                ...state,\r\n                payload: state.payload.concat(action.payload)\r\n            };\r\n        case 'update':\r\n            return {\r\n                ...state,\r\n                payload: state.payload.filter((item, index) => {\r\n                    if (item.id === action.payload.id) {\r\n                        state.payload[index].name = action.payload.name;\r\n                        state.payload[index].qty = action.payload.qty;\r\n                        state.payload[index].price = action.payload.price;\r\n                        state.payload[index].uom = action.payload.uom;\r\n                        state.payload[index].amount = action.payload.qty * action.payload.price;\r\n                    }\r\n                    return state.payload;\r\n                })\r\n            };\r\n        case 'delete':\r\n            let payload = Object.assign([], state.payload);\r\n            let indexToRemove = payload.findIndex((item) => item.id === action.payload.id);\r\n            if (indexToRemove > -1) payload.splice(indexToRemove, 1);\r\n            return {\r\n                ...state,\r\n                payload\r\n            };\r\n        default:\r\n            return { ...state };\r\n    }\r\n};\r\n\r\nconst EditableTableDemo = (props) => {\r\n    const initialState = {\r\n        payload: [\r\n            {\r\n                id: 10,\r\n                name: 'Mac Book Pro, 2019',\r\n                qty: 1,\r\n                uom: 'CAN',\r\n                price: 2500.0,\r\n                amount: 2500.0\r\n            },\r\n            {\r\n                id: 20,\r\n                name: 'Dell SPS 2018',\r\n                qty: 1,\r\n                uom: 'UNIT',\r\n                price: 1800.0,\r\n                amount: 1800.0\r\n            }\r\n        ]\r\n    };\r\n    const [ state, dispatch ] = useReducer(demoReducer, initialState);\r\n    const command = (record, index, name) => {\r\n        dispatch({ type: 'delete', payload: record });\r\n    };\r\n    const changed = (form, name, key) => {\r\n        form.validateFields((error, value) => {\r\n            if (error) {\r\n                return;\r\n            }\r\n            value.id = key;\r\n            dispatch({ type: 'update', payload: value });\r\n            form.setFieldsValue({ amount: value.qty * value.price });\r\n        });\r\n    };\r\n    const newRow = () => {\r\n        dispatch({\r\n            type: 'new',\r\n            payload: {\r\n                id: Date.now(),\r\n                name: '',\r\n                qty: 1,\r\n                uom: '',\r\n                price: 0.0,\r\n                amount: 0.0\r\n            }\r\n        });\r\n    };\r\n\r\n    const [ columns ] = useState([\r\n        {\r\n            label: 'Name',\r\n            show_label: false,\r\n            name: 'name',\r\n            type: 'input',\r\n            required: true,\r\n            err_message: '',\r\n            width: '20%'\r\n        },\r\n        {\r\n            label: 'QTY',\r\n            show_label: false,\r\n            name: 'qty',\r\n            type: 'number',\r\n            required: true,\r\n            err_message: 'Please input QTY',\r\n            width: '20%'\r\n        },\r\n        {\r\n            label: 'UOM',\r\n            show_label: false,\r\n            name: 'uom',\r\n            type: 'select',\r\n            data: [ { id: 'CAN', name: 'CAN' }, { id: 'UNIT', name: 'UNIT' } ],\r\n            display_value: 'id',\r\n            display_name: 'name',\r\n            required: true,\r\n            err_message: 'Please select UOM',\r\n            width: '20%',\r\n            style: { width: '100%' },\r\n            // mode: 'tags',\r\n            showSearch: true\r\n        },\r\n        {\r\n            label: 'Price',\r\n            show_label: false,\r\n            name: 'price',\r\n            type: 'number',\r\n            data: null,\r\n            display_value: null,\r\n            display_name: null,\r\n            required: true,\r\n            err_message: 'Please input name',\r\n            width: '20%'\r\n        },\r\n        {\r\n            label: 'Amount',\r\n            show_label: false,\r\n            name: 'amount',\r\n            type: 'number',\r\n            data: null,\r\n            display_value: null,\r\n            display_name: null,\r\n            required: true,\r\n            err_message: 'Please input amount',\r\n            readOnly: true,\r\n            width: '20%'\r\n        },\r\n        {\r\n            title: null,\r\n            is_action: true,\r\n            render: (text, record, index) => (\r\n                <Button\r\n                    type='danger'\r\n                    shape='circle'\r\n                    size='small'\r\n                    onClick={command.bind(null, record, index, 'name')}\r\n                    icon='close'\r\n                />\r\n            )\r\n        }\r\n    ]);\r\n    const [ editable, setEditable ] = useState(false);\r\n    return (\r\n        <React.Fragment>\r\n            <Button onClick={newRow} type='primary' style={{ marginBottom: 16, marginRight: 16 }}>\r\n                New Row\r\n            </Button>\r\n            <Button onClick={() => setEditable(!editable)} type='primary' style={{ marginBottom: 16 }}>\r\n                {!editable ? 'Editable' : 'Un-Editable'}\r\n            </Button>\r\n            <EditableTable\r\n                editable={editable}\r\n                columns={columns}\r\n                onBlur={changed}\r\n                size='small'\r\n                dataSource={state.payload}\r\n                pagination={false}\r\n                bordered={true}\r\n            />\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default React.memo(EditableTableDemo);\r\n"]}]}